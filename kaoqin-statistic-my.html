<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>个人考勤统计</title>
		<link rel="stylesheet" type="text/css" href="css/iconfont.css" />
		<link rel="stylesheet" type="text/css" href="plugins/weui/css/weui.css" />
		<link href="plugins/mui/css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="plugins/mui/css/mui.picker.min.css" />
		<link rel="stylesheet" type="text/css" href="css/base.css" />
		<link rel="stylesheet" type="text/css" href="css/visiting-list.css" />
		<style>
			html,body {height: 100%;overflow: hidden;}
			/*已读未读圆形*/
			.read-lable{    display: flex;vertical-align:middle;}
			.read-text{font-size: 12px;color: #999;margin-left: 4px;}
			.read-num{display: inline-block;}
		    body {
			font-family: "微软雅黑";
		}
		.circle-bar {
			width: 16px;
			height: 16px;
			position: relative;
			border-radius: 50%;
			background: #c7c7d1;
			border:1px solid #c7c7d1;
			padding: 8px;
		}
		.circle-bar-left, .circle-bar-right {
			width:16px; 
			height:16px;
			position: absolute;
			top: 0;left: 0;
			/*border:0.5px solid #c7c7d1*/
		}
		.left, .right {
			width:16px; 
			height:16px;
			background:#fff;
			border-radius: 50%;
			position: absolute;
			top: 0;
			left: 0;
		}
		.circle-bar-right, .right {
			clip:rect(0,auto,auto,8px);
		}
		.circle-bar-left, .left {
			clip:rect(0,8px,auto,0);
		}
		.mask{
			opacity: 0;
		}
		.all-read{
			display: none;
			width: 16px;
			height: 16px;
			line-height: 16px;
		}
		.all-read img{
			width: 16px;
			height: 16px;
		}
		</style>
	</head>

	<body>
		<div class="content">
			<div class="hd">
				<div class="screen-box">
					<input data-options='{}' class="screen-date" id="timeStart" type="text" placeholder="输入开始时间">
					<span>-</span>
					<input data-options='{}' class="screen-date" id="timeEnd" type="text" placeholder="输入结束时间">
				</div>
				<div class="screen-btn">确定</div>

			</div>
			<div class="bd" id="container">
				<a id="content" class="weui-cells">
					<!--列表加载内容-->
					<div class="weui-cell report-cell">
						<div class="customer-group">
							<div class="img">刘</div>
							<div class="content">
								<div class="info-myAtt">
									<span class="name">刘娜娜</span>
									<div class="date">2019-06-06</div>
								</div>						
							</div>
							<div class="read-lable">
								<div class="circle-bar">
									<div class="circle-bar-left"><div class="left"></div></div>
									<div class="circle-bar-right"><div class="right"></div></div>
									<div class="mask"><span class="percent">10</span></div>
									
								</div>
								<div class="all-read"><img src="img/all-read.png"/></div>
								<div class="read-text">
									<span class="read-num">全部</span>已读
								</div>
							</div>
						</div>
						<div class="report">
							<div class="describe">工作内容:<p>销售云平台系统销售云平台系统销售云平台系统销售</p></div>
						</div>	
					</div>
				</a>
				<a id="content" class="weui-cells">
					<!--列表加载内容-->
					<div class="weui-cell report-cell">
						<div class="customer-group">
							<div class="img">刘</div>
							<div class="content">
								<div class="info-myAtt">
									<span class="name">刘娜娜</span>
									<div class="date">2019-06-06</div>
								</div>						
							</div>
							<div class="read-lable">
								<div class="circle-bar">
									<div class="circle-bar-left"><div class="left"></div></div>
									<div class="circle-bar-right"><div class="right"></div></div>
									<div class="mask"><span  class="percent">40</span></div>
								</div>
								<div class="all-read"><img src="img/all-read.png"/></div>
								<div class="read-text">
									<span class="read-num">全部</span>已读
								</div>
							</div>
						</div>
						<div class="report">
							<div class="describe">工作内容:<p>销售云平台系统销售云平台系统销售云平台系统销售</p></div>
						</div>	
					</div>
				</a>
				<a id="content" class="weui-cells">
					<!--列表加载内容-->
					<div class="weui-cell report-cell">
						<div class="customer-group">
							<div class="img">刘</div>
							<div class="content">
								<div class="info-myAtt">
									<span class="name">刘娜娜</span>
									<div class="date">2019-06-06</div>
								</div>						
							</div>
							<div class="read-lable">
								<div class="circle-bar">
									<div class="circle-bar-left"><div class="left"></div></div>
									<div class="circle-bar-right"><div class="right"></div></div>
									<div class="mask"><span  class="percent">80</span></div>
								</div>
								<div class="all-read"><img src="img/all-read.png"/></div>
								<div class="read-text">
									<span class="read-num">全部</span>已读
								</div>
							</div>
						</div>
						<div class="report">
							<div class="describe">工作内容:<p>销售云平台系统销售云平台系统销售云平台系统销售</p></div>
						</div>	
					</div>
				</a>
				
				<!--滚动加载-->
				<div class="weui-loadmore">
					<i class="weui-loading"></i>
					<span class="weui-loadmore__tips">正在加载</span>
				</div>
				<!--				<div class="add iconfont icon-add"></div>-->
			</div>
		</div>
		<script src="plugins/weui/js/jquery-2.1.4.js"></script>
		<script src="plugins/weui/js/jquery-weui.min.js"></script>
		<script src="plugins/mui/js/mui.js"></script>
		<script src="plugins/mui/js/mui.picker.min.js"></script>
		<script src="js/baes.js" type="text/javascript" charset="utf-8"></script>
		<!--<script src="js/kaoqin-statistic-my.js" type="text/javascript" charset="utf-8"></script>-->
		<script type="text/javascript">
			slide()
			mui.init();
			//时间选择组件
			(function($) {
				$.init();
				var btns = $('.screen-date');
				btns.each(function(i, btn) {
					btn.addEventListener('tap', function() {
						var _self = this;
						if(_self.picker) {
							_self.picker.show(function(rs) {
								_self.picker.dispose();
								_self.picker = null;
							});
						} else {
							var optionsJson = this.getAttribute('data-options') || '{}';
							var options = JSON.parse(optionsJson);
							var id = this.getAttribute('id');

							_self.picker = new mui.DtPicker({
								type: "date", //设置日历初始视图模式 
								beginDate: new Date(2015, 04, 25), //设置开始日期 
								endDate: new Date(2016, 04, 25), //设置结束日期 
							})

							_self.picker.show(function(rs) {
								_self.style.color = "#333";
								_self.value = rs.text;
								_self.picker.dispose();
								_self.picker = null;
							});
						}
					}, false);
				});
			})(mui);

			//点击确定
			$(".define-full").click(function() {
				if($('.screen-date')[0].value !== "" || $('.item').hasClass("active")) {
					$(".slide-btn.full").addClass("selected")
				} else {
					$(".slide-btn.full").removeClass("selected")
				}
				$(".item.active").addClass("selected").removeClass("active")
//				var startDate = $('.screen-date')[0].value
//				var endDate = $('.screen-date')[1].value
//				var item = $('.item.active');
//				for(var i = 0; i < item.length; i++) {
//					alert($(item[i]).attr("id")) //选中元素id
//				}
//				alert(startDate) //开始时间
//				alert(endDate) //结束时间
			})
			//点击重置
			$(".reset-full").click(function() {
				$(".item").removeClass("active").addClass("selected-hide")
				var startDate = $('.screen-date')[0].value = '';
				var endDate = $('.screen-date')[1].value = '';
			})
			//已读未读状态
			$(function() {
				$('.read-lable').each(function(index, el) {
					
					var num = $(this).find('.circle-bar .mask span').text() * 3.6;
					
					if (num<=180) {
						$(this).find('.right').css('transform', "rotate(" + num + "deg)");
					} else {
						$(this).find('.right').css('transform', "rotate(180deg)");
						$(this).find('.left').css('transform', "rotate(" + (num - 180) + "deg)");
					};
					if( num == 360){
			        	$(this).find('.circle-bar').css("display","none");
			        	$(this).find('.all-read').css("display","block");
			        }  
			        alert(num)
				});
			});
		</script>
	</body>

</html>